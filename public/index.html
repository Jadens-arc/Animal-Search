<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <title>Animal Search</title>
    <script src="tries.js"></script>
    <script src="animals.js"></script>
    <script>
        let s = new Solution()
        s.build(animals);
        function returnResults(){
            console.log("something happened");
            let userText = document.getElementById("animalInput").value.toLowerCase()
            userText = userText.charAt(0).toUpperCase() + userText.slice(1);
            console.log(userText);
            if(userText){
                document.getElementById("suggestions").innerText = "";
                let suggestions = s.autocomplete(userText);
                suggestions.pop();
                for (suggestion of suggestions) {
                    let ul = document.getElementById('suggestions');
                    let li = document.createElement('li');
                    let a = document.createElement('a');
                    a.appendChild(document.createTextNode(suggestion));
                    a.setAttribute('href', `https://en.wikipedia.org/wiki/${suggestion}`);
                    a.setAttribute('class', 'subtitle')

                    li.appendChild(a);
                    
                    ul.appendChild(li)
                }
            }else{
                document.getElementById("suggestions").innerText = "";
            }
        }
    </script>
    <style>
        li {
            text-decoration: underline;
            list-style-type: circle;
            font-size: larger;
        }
    </style>
</head>
<body class="content section">
    
    <div class="box">
        <div style="display: flex; justify-content: space-between;">
            <span class="title">Search for an Animal</span> 
            <span style="font-weight: lighter; font-style: italic;" class="title">With Speed</span>
        </div>
        <div style="position: relative; display: flex; justify-content: space-between;">
            <span style="font-weight: 700;" class="button is-primary is-light">
                <a href="https://jaden-arceneaux.web.app">
                    By Jaden Arceneaux
                </a>
            </span>
            <span class="button is-primary">
                <a href="https://github.com/jadens-arc/animal-search">
                    On Github
                </a>
            </span>
        </div>
        <hr>
        <div class="field">
            <div class="control">
                <input class="input is-primary" id="animalInput" oninput="returnResults()" type="text" placeholder="E.X. Dog, Cat, Fish">
            </div>
        </div>
        <div class="notification">
            <ul id="suggestions" class="">
                
            </ul>
        </div>
    </div>



</body>
</html>